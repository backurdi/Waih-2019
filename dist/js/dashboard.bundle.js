!function(e){function t(t){for(var n,i,u=t[0],c=t[1],s=t[2],d=0,p=[];d<u.length;d++)i=u[d],a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={3:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;o.push([375,0]),r()}({375:function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(43));r(376),r(69);var a=c(r(101)),o=c(r(100)),i=c(r(102)),u=c(r(377));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}n.head(".head","./reusable/head.html"),n.dbnav(".nav","./reusable/dbnav.html");var l,d,p,f,v,h={},m=document.querySelector("tbody"),g=(l=s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.token=new u.default,e.prev=1,e.next=4,h.token.getResults();case 4:if(!document.location.href.includes("dashboard")){e.next=12;break}if(h.token.results.token){e.next=11;break}return alert("Du skal logge ind!"),window.location.href="login.html",e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,void 0,[[1,14]])})),function(){return l.apply(this,arguments)}),y=(d=s(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.podcast=new a.default,e.prev=1,e.next=4,h.podcast.delete(t);case 4:m.deleteRow(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("fejl:",e.t0);case 10:case"end":return e.stop()}},e,void 0,[[1,7]])})),function(e,t){return d.apply(this,arguments)}),b=(p=s(regeneratorRuntime.mark(function e(t,r,n,a,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.podcast.update(t,r,n);case 3:a.style.borderColor="limeGreen",setTimeout(function(){a.style.borderColor="black"},800),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Fejl: "+r+" kunne ikke opdateres pga følgende:\n"+e.t0),a.innerText=o,a.style.borderColor="red",setTimeout(function(){a.currentTarget.style.borderColor="black"},800);case 13:case"end":return e.stop()}},e,void 0,[[0,7]])})),function(e,t,r,n,a){return p.apply(this,arguments)}),w=(f=s(regeneratorRuntime.mark(function e(t){var r,n,o,i,u,c,s,l,d,p,f,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.podcast=new a.default,e.prev=1,e.next=4,h.podcast.get(t);case 4:if(console.log(h.podcast.results),"Tabel er tom"!==h.podcast.results.message){e.next=8;break}e.next=31;break;case 8:for(r=!0,n=!1,o=void 0,e.prev=11,i=h.podcast.results[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)c=u.value,s='<tr class="animated fadeIn" data-id="'+c.id+'">\n                        <td data-param="title" contenteditable>'+c.title+'</td>   \n                        <td data-param="hostname" contenteditable>'+c.hostname+'</td>     \n                        <td data-param="guestname" contenteditable>'+c.guestname+'</td>\n                        <td data-param="description" contenteditable>'+c.description+'</td>    \n                        <td style="padding: 0"><input data-id="'+c.id+'" type="button" class="slet" value="Slet"></td>    \n                        <td class="gem" style="padding: 0"><input data-id="'+c.id+'" type="button" value="Gem"></td>    \n                     </tr>',m.insertAdjacentHTML("beforeEnd",s);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),n=!0,o=e.t0;case 19:e.prev=19,e.prev=20,!r&&i.return&&i.return();case 22:if(e.prev=22,!n){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:l=void 0,d=void 0,p=void 0,f=void 0,v=void 0,g=void 0,$(".slet").on("click",function(e){l=e.currentTarget.parentNode.parentNode.firstElementChild.innerHTML,d=e.currentTarget.dataset.id,p=e.currentTarget.parentNode.parentNode.rowIndex,confirm('Er du sikker på at du vil slette podcasten med titlen: \n"'+l+'" ?')&&y(d,p)}),$("td").on("focus",function(e){d=e.currentTarget.parentNode.dataset.id,f=e.currentTarget.dataset.param,v=e.currentTarget.innerText,$("td").on("keyup",function(e){e.target.innerText!==v&&(e.currentTarget.parentNode.lastElementChild.style.opacity=1)})}),$("td").on("blur",function(e){g=e.currentTarget.innerText,v!==g?(b(d,f,g,e.currentTarget,v),e.currentTarget.parentNode.lastElementChild.style.opacity=0):console.log(!1)});case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(1),console.log("Something went wrong with the search, try again later",e.t1);case 36:case"end":return e.stop()}},e,void 0,[[1,33],[11,15,19,27],[20,,22,26]])})),function(e){return f.apply(this,arguments)}),k=(v=s(regeneratorRuntime.mark(function e(){var t,r,n,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.program=new o.default,e.prev=1,e.next=4,h.program.getResults();case 4:for(console.log(h.program.results),t=!0,r=!1,n=void 0,e.prev=8,a=h.program.results[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)u=i.value,$("#program").append('<option value="'+u.id+'">'+u.title+"</option>");e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),r=!0,n=e.t0;case 16:e.prev=16,e.prev=17,!t&&a.return&&a.return();case 19:if(e.prev=19,!r){e.next=22;break}throw n;case 22:return e.finish(19);case 23:return e.finish(16);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),console.log("Something went wrong with the search, try again later");case 29:case"end":return e.stop()}},e,void 0,[[1,26],[8,12,16,24],[17,,19,23]])})),function(){return v.apply(this,arguments)}),x=document.querySelector("#program");x&&x.addEventListener("input",function(){for(m.parentNode.style.opacity=1;1!==m.childElementCount;)m.removeChild(m.lastChild);w(x.value)});var T,S=(T=s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.hash.replace(/\D/g,""),h.artikler=new i.default,e.prev=2,e.next=5,h.artikler.getResults(t);case 5:R(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),$("#top").css("background-image",'url("../img/404.png")'),console.log("Something went wrong, try again later");case 12:case"end":return e.stop()}},e,void 0,[[2,8]])})),function(){return T.apply(this,arguments)}),R=function(){for(var e,t=document.querySelector(".artikel"),r=0;r<h.artikler.results.length;r++)e='\n        <div class="artikel-content" id="'+h.artikler.results[r].id+'">\n            <img src="'+h.artikler.results[r].picture+'" alt="">\n            <h2>'+h.artikler.results[r].title+"</h2>\n        </div>\n        ",t.insertAdjacentHTML("beforeEnd",e);document.querySelector(".search input").addEventListener("keyup",function(){!function(){var e,t,r,n;e=document.querySelector(".search"),t=e.getElementsByTagName("input"),r=t[0].value.toUpperCase(),n=document.querySelectorAll(".artikel-content h2");for(var a=0;a<n.length;a++)n[a].innerHTML.toUpperCase().indexOf(r)>-1?n[a].parentElement.style.display="":n[a].parentElement.style.display="none"}()}),$(".artikel .artikel-content").click(function(e){var t=e.currentTarget.id;window.location.href="editArticle.html#"+t})};function E(){document.querySelector(".dashboard")&&("#art"===window.location.hash?(document.querySelector(".dashboard h1").innerHTML="WAIH Artikel Kontrolpanel",document.getElementById("artikler").style.display="",document.getElementById("podcast").style.display="none"):(document.querySelector(".dashboard h1").innerHTML="WAIH Podcast Kontrolpanel",document.getElementById("podcast").style.display="",document.getElementById("artikler").style.display="none"))}g()&&(S(),k()),window.onload=function(){E()},window.addEventListener("hashchange",function(){E()})},376:function(e,t,r){},377:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(49),i=(n=o)&&n.__esModule?n:{default:n};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"getResults",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.default)({url:"http://waih.dk/WaihAPI/users/token/",method:"get",withCredentials:!0});case 3:t=e.sent,this.results=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,o){try{var i=t[a](o),u=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})});return function(){return t.apply(this,arguments)}}()}]),e}();t.default=u}});